<ion-view title="Asthma" ng-controller="AsthmaController as vm">
    <ion-content padding="true" scroll="false">
        <div class="card">

            <div class="item item-divider text-center">
                Diagnosis
            </div>

            <div class="item item-text-wrap text-center">
                <div class="diagnosis">
                    <h1>{{ vm.diagnosis }}</h1>
                    <div ng-if="vm.measCheck"> 
                        <a href="#" class="button button-clear button-positive" ng-click="openModal()">Check Pre and Post FEV1 change</a>
                    </div>
                    <div ng-if="vm.diagnosis === 'Asthma' || vm.diagnosis === 'COPD'"> 
                        <a href="#" class="button button-clear button-positive" ng-click="openModalMeds()">Suggested Medication</a>
                    </div>
                </div>
            </div>

            <div class="item item-divider text-center">
                Severity: {{ vm.severity }}
            </div>

        </div>
        <hr>
        <div class="item">
            Pre FEV1: {{ vm.preFev1Percent }}%
        </div>
        <div class="item range">
            <i class="icon ion-ios-minus-empty"></i>
            <input type="range" name="preFevPercent" value="80" min="0" max="120" ng-model="vm.preFev1Percent">
            <i class="icon ion-ios-plus-empty"></i>
        </div>

        <div class="item">
            Post Change: {{ vm.postChange }}%
        </div>
        <div class="item range">
            <i class="icon ion-ios-minus-empty"></i>
            <input type="range" name="postChange" value="0" min="0" max="100" ng-model="vm.postChange">
            <i class="icon ion-ios-plus-empty"></i>
        </div>

    </ion-content>
</ion-view>


<script id="check-mass.html" type="text/ng-template">
  <div class="modal">
    <ion-header-bar>
        <h1 class="title">Check Pre & Post FEV1 Meas</h1>
    </ion-header-bar>
    <ion-content>

        <div class="card">
            <div class="item item-divider text-center">
                Diagnosis
            </div>
            <div class="item item-text-wrap text-center">
                <div class="diagnosis">
                    <h1 ng-if="vm.diagnosis === 'Asthma' || vm.diagnosis === 'COPD' || vm.diagnosis === 'Undertermined'">{{ vm.diagnosis }}</h1>
                </div>
                <div ng-if="vm.diagnosis === 'Asthma' || vm.diagnosis === 'COPD'"> 
                    <a href="#" class="button button-clear button-positive" ng-click="openModalMeds()">Sugested Medication</a>
                </div>
            </div>
            <div class="item item-divider text-center">
                Severity: {{ vm.severity }}
            </div>
        </div>

        <div class="item">
            Pre FEV1 Meas: {{ vm.preFev1Meas | number:2 }}%
        </div>
        <div class="item range">
            <i class="icon ion-ios-minus-empty"></i>
            <input type="range" name="preFev1Meas" value="1.00" min="0.00" max="8.00" step="0.01" ng-model="vm.preFev1Meas">
            <i class="icon ion-ios-plus-empty"></i>
        </div>

        <div class="item">
            Post FEV1 Meas: {{ vm.postFev1Meas | number:2 }}%
        </div>
        <div class="item range">
            <i class="icon ion-ios-minus-empty"></i>
            <input type="range" name="postFev1Meas" value="1.00" min="0.00" max="8.00" step="0.01" ng-model="vm.postFev1Meas">
            <i class="icon ion-ios-plus-empty"></i>
        </div>

      <button class="button button-full button-default" ng-click="closeModal()">Done</button>
    </ion-content>
  </div>
</script>
